<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    
</head>
<body>
  <div class="navbar">
    <a href="{{ url_for('index') }}"/a>
        <div class="logo"> 
            <img id="logo" src="{{ url_for('static', filename='image.jpg') }}" />
        </div>
    </a>
    <a href="{{ url_for('index') }}"/a>
        <div class="name">
            <h1>movie.rec</h1>
        </div>
    </a>  
      <form action="/recommend" method="POST">
        <input type="text" id='search_bar' name="name" placeholder=" Enter movie name" required>
        <button type="submit" id='search_button'>Recommend</button>
      </form>
  </div>

  <!--<div class="headlines">
    <h2><b>search movies.</b></h2>
    <h2><b>get recommendations, reviews, ratings, and more.</b></h2>
  </div>-->

    <!--theme button-->
    <div class="theme-switch-wrapper">
      <label class="theme-switch">
        <input type="checkbox" id="theme-toggle">
        <span class="slider round"></span>
      </label>
      <span id="mode-label">ðŸŒ™ Dark Mode</span>
    </div>

    <script>
      const toggle = document.getElementById('theme-toggle');
      const modeLabel = document.getElementById('mode-label');

      // Set dark mode as default
      document.body.classList.add('dark-mode');
      toggle.checked = false; // unchecked = dark
      modeLabel.textContent = "ðŸŒ™ Dark Mode";

      // Toggle theme (without saving)
      toggle.addEventListener('change', function () {
        if (this.checked) {
          document.body.classList.remove('dark-mode');
          document.body.classList.add('light-mode');
          modeLabel.textContent = "ðŸŒž Light Mode";
        } 
        else {
          document.body.classList.remove('light-mode');
          document.body.classList.add('dark-mode');
          modeLabel.textContent = "ðŸŒ™ Dark Mode";
        }
      });
    </script>

  
  
  {% if data %}
    {% for i in data %}
        {% if loop.first %}
            <!-- main movie -->
            <div class="main_movie">
                <div class="poster_main">
                    <img src="{{ i.poster }}" alt="Poster">
                </div>
                <div class="overview_main">
                    <h2 class='title_main'><b>{{ i.movie_title }}</b></h2>
                    <h2 class='title'><u><b>Overview:</b></u></h2>
                    <p class='description'>{{ i.overview }}</p>
                    <h2 class='title'><u><b>Starring:</b></u></h2>
                    <p class='description'>{{ i.actors }}</p>
                    <h2 class='title'><b><u>Directed by:</u></b></h2>
                    <p class='description'>{{ i.director }}</p>
                </div>
            </div>

            <!-- heading1 -->
            <div class="top50movies">
                <br>
                <h2><b><u>Recommendations:</u></b></h2>
            </div>

            <div class="rec-grid">
        {% else %}
            <!-- recommended movie card wrapped in a form -->
            <form action="/recommend" method="POST" class="movie-click-form">
                <input type="hidden" name="name" value="{{ i.movie_title }}">
                <button type="submit" class="movie-card-rec">
                    <img src="{{ i.poster }}" alt="Poster">
                    <h2 class="title_rec">{{ i.movie_title }}</h2>

                    <div class="hover-overlay-box">
                        <div class="content-wrapper">
                            <img class="fullscreen-poster" src="{{ i.poster }}" alt="Poster">
                            <div class="fullscreen-overview">
                                <h3>{{ i.movie_title }}</h3>
                                <p>{{ i.overview }}</p>
                            </div>
                        </div>
                    </div>
                </button>
            </form>

            {% if (loop.index - 1) == 5 %}
                </div>
                <!-- heading2 -->
                <div class="top50movies">
                    <br>
                    <h2><b><u>You may also like:</u></b></h2>
                </div>
                <div class="rec-grid">
            {% endif %}
        {% endif %}
    {% endfor %}
    </div>
{% endif %}
  <footer>
    <br>
    <div id="about_us">
      <h1><b>About us</b></h1>
      <p id="about_us_text">We, Gaurika Agarwal and Hardik Prakhar are two college sophomores pursuing BTech from the Indian Institute of Technology, Goa. This is a first of many projects for us and is designed to cater content-based and collaborative-filtered recommendations for a movie. Search for movies and get recommendations at one click. Enjoy! </p>
      <div class="linkedin_ids">
        <a href="https://www.linkedin.com/in/gaurika-agarwal-93453132b/" style="text-decoration: none;" target="_blank" >
          <div class="linkedin_info"> 
            <img id="linkedin_logo" src="{{ url_for('static', filename='logo_linkedin.png') }}" />
            <p id="about_us_text"> gaurika_agarwal</p>
          </div>
        </a> 

        <a href="https://www.linkedin.com/in/hardik-prakhar-047661277/" style="text-decoration: none;" target="_blank" >
          <div class="linkedin_info"> 
            <img id="linkedin_logo" src="{{ url_for('static', filename='logo_linkedin.png') }}" />
            <p id="about_us_text"> hardik_prakhar</p>
          </div>
        </a> 
      </div>
    </div>
  </footer>



</body>
</html>